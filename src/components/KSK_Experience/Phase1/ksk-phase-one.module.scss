@import "../../../styles/colors";

/* ANIMATIONS */

@keyframes menuRise {
  0% {
    transform: translateY(100%);
  }

  100% {
    transform: translateY(0%);
  }
}
@keyframes menuRiseFadeIn {
  0% {
    transform: translateY(100%);
    opacity: 0;
  }

  100% {
    transform: translateY(0%);
    opacity: 1;
  }
}


@keyframes menuFall {
  0% {
    transform: translateY(0%);
    opacity: 1;
  }
  60% {
    opacity: 0.5;
  }

  100% {
    transform: translateY(100%);
    opacity: 0;
  }
}


@keyframes introFadeIn {
  0% {
    opacity: 0
  }
  100% {
    opacity: 1
  }
}

@keyframes fadeOut {
  0% {
    opacity: 1
  }
  100% {
    opacity: 0
  }
}

@keyframes scaleIntro {
  0% {
    transform: scale(0)
  }
  100% {
    transform: scale(1)
  }
}

@keyframes smashDown {
  0% {
    transform: scale(2.5);
    opacity: 0;
  }
  100% {
    transform: scale(1);
    opacity: 1;
  }
}

@keyframes growModal {
  0% {
    width: 10vw;
    height: 30%;
  }
  100% {
    width: 60vw;
    height: 100%;
  }
}

/* HTML */

html {
  height: 100vh;
  width: 100vw;
}


button.incrementor.k-btn.secondary {
  &.disabled {
    pointer-events: none;
    border-color: transparent !important;

    .filled {
      fill: $sepia !important;
    }
  }
}

// Carousel

.k-carousel{
  .nav-dots-container{
    background-color: transparent;
    .nav-dot.nav-item{
      border-color: $dark-roast;
      &.selected{
        background-color: $dark-roast;
      }
    }
  }
}



.k-carousel .nav-container .right, .k-carousel .nav-container .left {
  width: 3vw;
  height: 100%;
  background-image: linear-gradient(270deg, rgba(0, 0, 0, 0.2) 0%, rgba(0, 0, 0, 0) 40%, rgba(3, 3, 3, 0) 100%);

  border: 0;
  backdrop-filter: none;
  transition: width 0.25s, height 0.25s, top 0.25s;
}


.ksk-container {


  &.mobile{
    .persistent-mobile-footer, .ksk-tray{
      position: absolute !important;
      bottom: 0;
      left: 4%;
      right: 4%;
      width: 90%;
    }
  }
.selection-area .tray{
  .persistent-mobile-footer {
    animation: menuFall 0.5s forwards !important;

    .pod-selection-status{
      background-color: $sepia;
    }
    &.menu-collapsed{
      animation: menuRiseFadeIn 0.5s forwards !important;
    }
  }
}


  .selection-slot {
    height: 100%;
    background-color: white;
    border-radius: 1vw;
    box-shadow: $selected-inset-shadow;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    position: relative;
    overflow: visible;

    .carat-pointing-left {
      position: absolute;
      height: 2vw;
      width: 1vw;
      left: 0;

      .filled {
        opacity: 0;
        fill: $KSK;
      }
    }

    &:hover {
      background-color: $KSK;
      transition: background-color 0.5s;

      h4 {
        color: white !important;
        transition: color 0.5s;
      }

      .coffee-maker-image {
        p {
          color: white;
        }
      }

      .selected-pod-item {
        border: 0.15vw dashed white !important;
      }

      .extended-outline {
        &.dashed {
          border-color: white;
        }
      }
    }

    .brewer-hole {
      box-shadow: $selected-inset-shadow;
      user-select: none;
      height: 50%;
      width: 20%;
      margin: 1.5vw auto;
      border-radius: 1vw;
      background-color: #ece9e4;
      position: relative;
      display: flex;
      align-items: center;
      justify-content: center;

      .plus-icon {
        &.icon{
          height: 1.5vw;
          width: 1.5vw;
          margin-right: 0;
        }

        .filled {
          fill: $sepia-dark;
        }
      }

      .extended-outline {
        border-color: $KSK;
        position: relative;
        border-width: 0.15vw;
        border-radius: 1.25vw;

        &.dashed {
          border-style: dashed;
          position: absolute;
          inset: -0.5vw;
        }
      }
    }

    &.active {
      background-color: $KSK;
      box-shadow: none;

      .carat-pointing-left {
        left: -1vw !important;
        height: 2vw;
        width: 1vw;
        transition: left 0.5s;
        transition-delay: 0.25s;
        opacity: 1;

        .filled {
          opacity: 1;
          transition: opacity 0.5s;
          transition-delay: 0.25s;
        }
      }

      .selected-pod-item {
        border: 0.15vw dashed white !important;
      }

      .extended-outline {
        border-color: white !important;
      }
    }

    &.inactive {

      .coffee-maker-slot {
        h4 {
          color: $dark-roast;
        }
      }

      .pod-selection-status {
        h4, p {
          color: $dark-roast;
        }
      }

      .carat-pointing-left {
        opacity: 0;
      }

      .selected-pod-item {
        border: 0.15vw dashed $KSK;
      }

      .brewers {
        width: 100%;

        .filled {
          fill: white;
        }

      }


    }
  }

  .title-area {
    &.false {
      h3 {
        color: white;
      }

      .step-marker {
        background-color: white !important;

        label {
          color: $KSK !important;
          font-weight: 600;
          font-size: 1vw;
          line-height: 1vw;
          text-align: center;
        }
      }
    }
  }



  &.modal-active {
    .nav-dots-container {
      display: none;
    }
  }

  * {
    user-select: none;
  }

  .toggle-items-container {
    display: block !important;
  }

  .your-pods {
    display: flex;
    width: 100%;
    justify-content: space-between;
    align-items: center;
  }

  .extra-badge {
    position: absolute;
    z-index: 111;
    right: -0.5vw;
    top: -0.75vw;
    background-color: $cta-primary;
    border-radius: 100vw;
    font-size: 1vw;
    width: 2vw;
    height: 2vw;
    display: flex;
    align-items: center;
    justify-content: center;
    transform: scale(0);
    animation: scaleIntro 0.5s ease-in forwards;
    animation-delay: 0.5s;
  }

  .expert-mode.selected-pods-list {
    overflow-y: auto;
    height: 75vh;
    width: 100%;
    padding: 0 5rem;
    margin-top: auto;
    display: flex;
    flex-wrap: wrap;
  }

  .veil {
    opacity: 0;
    background-color: rgba(0, 0, 0, 0.65);
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    z-index: -1;
    animation: introFadeIn 0.5s forwards ease-in;
  }

  .veil-active {
    pointer-events: none;
    filter: grayscale(1) brightness(0.4);
  }

  .introFadeIn {

  }

  .labels-area {
    width: 100%;
  }

  .select-mode {

  }

  .tray-affordance {
    display: none;
  }

  // MODAL RELATED


  .modal {
    overflow: hidden;
    border-radius: 1vw !important;

    .close-modal {
      position: absolute;
      height: 1.5vw;
      width: 1.5vw;
      top: 1vw;
      right: 1vw;
      padding: 0 !important;
      background-color: transparent !important;

      .icon {
        width: auto;
        height: auto;

        .filled {
          fill: $dark-roast;
        }
      }

    }

    .pod-lid {
      transform: scale(0);
      animation: scaleIntro forwards 1.25s;
    }

    .price-container-main {
      opacity: 0;
      animation: introFadeIn 0.5s ease-in forwards;
      animation-delay: 0.25s;
    }

    .box-sizes {
      opacity: 0;
      animation: introFadeIn 0.5s ease-in forwards;
      animation-delay: 0.5s;
    }

    .incrementors-menu {
      opacity: 0;
      animation: introFadeIn 0.5s ease-in forwards;
      animation-delay: 0.75s;
    }

    .ksk-add {
      transform: scale(0);
      animation: scaleIntro 0.5s ease-in-out forwards;
      animation-delay: 1s;
    }

    .prod-info-area {
      opacity: 0;
      animation: introFadeIn 0.5s ease-in forwards;
      animation-delay: 0.1s;

      h2 {
        font-size: 1.5vw !important;
      }
    }

    .section {
      position: absolute;
      left: 0;
      bottom: 0;
      right: 50%;
      background-color: #ECE9E4;
      top: 0;
      z-index: -1;
    }

    .product-configuration-area {
      max-width: 50%;
      padding: 3vw 1vw 0 1vw;

      .results {
        font-size: 1vw;
      }

      .highlighted-text {
        font-weight: 600;
        color: $KSK !important;
      }

      &.intro {
        opacity: 0;
        animation: introFadeIn ease-in 1s forwards;
        animation-delay: 1s;
      }
    }

    .product-image-name {
      width: 50% !important;
      height: auto !important;
      align-items: center;
      align-content: center;
      margin-right: 1vw;
    }

    .size-list {
      li {
        gap: 0.5vw;
        margin-top: 0.5vw;
      }

      .k-btn {
        border-color: $medium !important;
      }

      .active {
        .k-btn {
          background-color: $medium-roast !important;
          color: white !important;
          font-weight: 600;
          border-color: transparent !important;
        }
      }
    }
  }


  .k-btn.ksk-add {
    background-color: $bold-cta !important;

    label {
      color: $dark-roast !important;
      font-size: 1vw;
    }

    .filled {
      fill: $dark-roast !important;
    }
  }

  .selected-pod-item {
    &.delay-0 {
      img {
        animation-delay: 0s;
      }
    }

    &.delay-1 {
      img {
        animation-delay: 0.5s;
      }
    }

    &.delay-2 {
      img {
        animation-delay: 1s;
      }
    }

    &.delay-3 {
      img {
        animation-delay: 1.5s;
      }
    }

    img {
      opacity: 0;
      animation: ease-in smashDown 0.5s forwards;
    }

  }


  //MOBILE

  &.mobile {
    overflow-y: auto;

    .persistent-mobile-footer {
      border-radius: 6vw 6vw 0 0;
      overflow: hidden;
      display: block;
      position: fixed;
      bottom: 0;
      z-index: 10000;
      pointer-events: all;

      .selection-slot .brewer-hole .plus-icon {
        height: 6vw;
        width: 6vw;
      }

      .step-marker {

      }

      .title-area {
        display: flex;
        align-content: center;
        justify-content: flex-start;

        &.false {
          .icon {
            display: none;
          }
        }

        .step-marker {
          border-radius: 100vw;
          display: flex;
          justify-content: center;
          align-items: center;
        }

        &.false {

        }
      }

      .selection-slot {
        height: 18vh;
      }

      .coffee-maker-slot {
        background-color: $sepia;
      }
    }

    .menu-collapsed {
      animation: menuFall 0.5s forwards;

      .persistent-mobile-footer {
        animation: fadeIn 0.5s forwards;
        pointer-events: all;
      }
    }

    .menu-expanded {
      animation: menuRise 0.5s forwards;

      .persistent-mobile-footer {
        animation: fadeOut 0.5s forwards;
        pointer-events: none;
      }
    }

    .k-toggle-container {
      width: 90% !important;

      .toggle-item {
        flex-basis: auto;
      }
    }

    .draggable-container {
      margin-top: 2vw;
      width: 100%;
      margin-left: 10%;
      margin-bottom: 3vw;

      .filter-item {
        .k-btn {
          padding: 4.5vw 5vw !important;
        }

        label {
          font-size: 3vw !important;
        }
      }
    }

    .product-info-container {
      border-radius: 4vw;
      border: 1px solid $sepia-dark;
      margin-bottom: 3vw;
      padding: 5vw 2vw 2vw;
      flex-direction: column;

      .product-image-name {
        width: 100% !important;

        .pod-lid {
          width: 30vw;
          margin-right: 4vw;
          height: 100% !important;
        }
      }

      .data-text {
        display: flex;
        flex-direction: column;
        width: 100%;
        margin-top: 3vw;
      }

      .k-btn {
        height: 10vw !important;
        justify-content: center !important;
      }


      .price-rating-group {
        width: 100%;

        .quant-variant, .price-area, {
          margin-bottom: 1vw;
        }

        .ratings-overall-container {
          width: 100%;
        }


        .price-area, .discount-area {
          width: 100% !important;
        }

        .quant-variant {
          width: 100%;

          .variant {
            height: 10vw !important;
            border-radius: 2vw !important;
          }
        }
      }

      .prod-info-area {
        .labels-area {

          margin-bottom: 2vw;

          h2, label {
            text-align: left;
          }
        }

        .brand-title {
          font-size: 2.5vw;
          text-align: left;
        }

        h2 {
          font-size: 4vw;
        }


      }
    }

    .slide-item {
      width: 100%;
    }

    .selected-pods-list {
      display: flex;
      flex-direction: column;
      width: 90%;

      .product-info-container {
        width: 100% !important;
      }

      .product-image-name {
        flex-direction: row;

        .pod-lid {
          width: 35vw;
          margin: 0;
          max-height: 15vh;
        }
      }

      .price-rating-group {
        .price-area {
          flex-direction: row !important;
        }
      }

      .action-menu {

        .k-btn {
          &.primary {
            background-color: $bold-cta !important;

            .filled {
              fill: $dark-roast !important;
            }
          }

          label {
            color: $dark-roast;
            font-size: 4vw;
            line-height: 4vw;
          }
        }
      }
    }

    .k-btn {
      label {
        font-size: 3vw;
      }
    }

    .title-area {
      h3 {
        margin-left: 1vw;
      }
    }

    .ksk-tray-item {


      h4 {
        color: $dark-roast !important;
      }

      .brewer-hole {
        height: 65% !important;

        .icon {
          height: 4vw !important;
          width: 4vw !important;
        }

        margin: 0;
      }
    }

    .coffee-maker-item {
      .tagline {
        font-size: 2vw;
      }

      .coffee-maker-image-title {
        h2 {
          font-size: 2.5vw;
        }

        p {
          font-size: 1vw;
        }
      }
    }

    .title-area-main {
      text-align: center;
      margin: 4vw 1vw;

      h1 {
        font-size: 4.25vw;
      }

      p {
        font-size: 3.1vw;
      }
    }


    .tray-affordance {
      position: relative;
      width: 100%;
      z-index: 111;
      background-color: $KSK;
      display: flex;
      justify-content: center;
      align-items: center;

      .inner-marker {
        box-shadow: 3px 2px 10px 0px rgb(0 0 0 / 75%) inset;
        border-radius: 1vw;
        width: 10vw;
        height: 1vw;
        margin-top: 1vw;
      }
    }

    .selection-area {
      height: auto;
    }

    .select-items-container {
      width: 100%;
    }

    .tray {
      width: 100%;
      position: fixed;
      bottom: 0;
      height: 50%;
      z-index: 100;
      display: flex;
      justify-content: center;
      background-color: transparent;
      pointer-events: none;
      padding: 0 !important;
      align-items: flex-end;

      .selected-pod-item {
        height: 15vw;
        width: 15vw;
      }

      .fill-hole {
        .plus-icon {
          width: 4vw !important;
          height: 4vw !important;
        }
      }

      .selection-slot {
        background-color: transparent !important;
        border-radius: 0 !important;
      }

      .title-area {
        &.false {
          background-color: $KSK;
        }

        .step-marker {
          width: 5vw !important;
          height: 5vw !important;

          .checkmark-circled {
            width: 8vw !important;
            height: 8vw !important;

            .stroked {
              stroke-width: 0.75vw;
            }
          }

          label {
            font-size: 3.5vw !important;
          }
        }

        h3 {
          font-size: 3.5vw !important;
        }
      }

      .carat-pointing-left {
        display: none;
      }

      .ksk-tray {

        position: relative;
        background-image: $warm-bg;
        border-radius: 3vw 3vw 0 0;
        overflow: hidden;
        pointer-events: all;

        .k-btn {
          label {
            font-size: 3vw;
          }
        }

        h2 {
          display: none;
        }
      }

      .ksk-tray-item {
        height: 20vh;

        h4 {
          font-size: 3vw;
        }
      }
    }

    .backdrop {
      background: white !important;
    }
  }

  .list-area {
    display: flex;
    flex-direction: row;
    flex-wrap: wrap;

    .coffee-maker-item {
      width: 50%;
      margin: 0 !important;
      gap: 0.5vw;
    }
  }


  .backdrop {
    background: linear-gradient(0deg, #fff, #f5f1ea);
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    z-index: -2;
  }

  .product-info-container {
    width: 100%;
  }


  .line-break {
    border-width: 0 0 1px 0;
    border-color: $sepia;
    border-style: solid;
    width: 100%;
    margin: 5% 0;
  }

  .prod-info-area {
    display: flex;
    flex-direction: column;
    flex-grow: 1;
    justify-content: space-between;
    height: 50%;
    align-items: center;
    text-align: center;
  }

  .product-configuration-area {
    height: 100%;
    display: flex;
    flex-direction: column;
    justify-content: space-between;

    .line-break {
      &:first-child, &:last-child {
        opacity: 0;
      }
    }

    .incrementors-menu {
      width: auto;
    }

    .switches {
      display: flex;
      flex-direction: column;
      align-items: center;
    }
  }

  .pod-title-small {
    width: 100%;
    display: flex;
    flex-direction: row;
    align-content: center;
    align-items: center;

    h2 {
      text-align: left;
      font-size: 1.25vw;
      line-height: 1.25vw;
    }

    img {
      width: 50%;
    }
  }

  .size-list {
    list-style: none;
    display: flex;
    flex-direction: row;
    gap: 0.5vw;
    flex-wrap: wrap;

    .k-btn {
      border-color: transparent !important;
      background-color: transparent !important;

      &:hover {
        .expander {
          background-color: $cta-primary;
        }
      }

      &.active {
        border: 1px solid $dark-roast !important;
        pointer-events: none;
      }
    }
  }

  .product-image-name {
    height: 90%;
    display: flex;
  }

  .is-open {
    .coffee-title {
      margin: 1vw 0;
    }
  }

  .coffee-maker-item {
    width: 22%;
    margin-right: 1vw;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    background-color: white;
    padding: 1vw;
    border-radius: 1vw;

    .tagline {
      color: $medium-roast;
      font-size: 0.75vw;
      text-align: center;
    }

    &:last-child {
      margin-right: 0;
    }

    .coffee-maker-image-title {
      height: 50%;
      display: flex;
      flex-direction: column;
    }


    .coffee-maker-image {
      height: 65%;
      display: flex;
      align-items: center;
      margin: 3vw 1vw;
    }
  }

  .coffee-maker-slot {
    h4 {
      position: static;
    }

    p {
      text-align: left;
    }

    .coff-maker-selected-display {
      height: 65%;
      margin: 0;
      position: absolute;

    }

    .coffee-maker-image {
      height: 100%;
      display: flex;
      align-items: center;
      margin: 1vw;

      img {
        height: 100%;

      }
    }
  }


  h2 {
    font-size: 1vw;
    text-align: center;
    color: $dark-roast;
  }

  .product-image-name {
    img {
      width: 100%;
      height: 100%;
      object-fit: contain;
    }
  }
}

//END mobile

.ksk-container {
  display: flex;
  flex-direction: column;
  height: 100%;

  .coffee-maker-slot {
    position: relative;
    width: 100%;
    height: 100%;

    &.active {
      h4 {
        color: white;
        right: 0;
        left: 0;
      }
    }
  }

  .k-btn {
    padding: 1.25vw 2vw !important;

    label {
      font-size: 1vw;
    }
  }

  h1, p {
    color: $dark-roast;
  }

  .selection-area {
    display: flex;
    flex-direction: column;
  }

  .title-area-main {
    text-align: center;
    margin: 1vw 1vw 2vw 1vw;

    h1 {
      font-size: 2.25vw;
    }

    p {
      font-size: 1.1vw;
    }
  }

  .active {
    .selection-slot {
      h4 {
        color: white;
      }

      p {
        color: white;
      }
    }
  }

  .pod-selection-status {
    height: 100%;
    width: 100%;
    position: relative;
    display: flex;
    flex-direction: column;
    overflow: hidden;

    .pods-list-container {
      position: relative;
      flex-grow: 1;
      display: flex;
      justify-content: center;
      align-items: center;

      .extra {
        position: absolute;
        right: 0.6vw;
        top: -0.4vw;
        background-color: white;
        padding: 0.1vw;
        border-radius: 100vw;
        height: 2vw;
        width: 2vw;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: 600;

        &.small {
          height: 2.2vw;
          width: 2.2vw;
        }
      }
    }

    h1 {
      font-size: 1.1vw;
    }

    p {
      font-size: 0.85vw;
      margin: 0 4vw 0 4vw;
    }

    .selected-pod-item {
      img {
        width: 112%;
        position: absolute;
        top: -7%;
        left: -6%;
        right: -1.85vw;
        bottom: -1.6vw;
        object-fit: contain;
      }
    }

    ul {
      list-style: none;
      display: inline-flex;
      flex-direction: row;

      .selected-pod-item {
        border-radius: 100vw;
        border: 0.15vw dashed white;
        overflow: visible;
        margin-right: 0.5vw;
        height: 4.5vw;
        width: 4.5vw;
        position: relative;

        &:last-child {
          margin-right: 0;
        }

        .fill-hole {
          background-color: $sepia;
          user-select: none;
          border-radius: 100vw;
          height: 98%;
          margin: 1%;
          box-shadow: $selected-inset-shadow;
          display: flex;
          align-items: center;
          align-content: center;
          justify-content: center;

          .plus-icon {
            margin: 0 !important;
            width: 1.5vw;
            height: 1.5vw;

            .filled {
              fill: $sepia-dark;
            }
          }
        }
      }
    }
  }

  .review-btn {
    &.true {
      color: white !important;
      font-weight: 600;
      margin: 1vw;
      background-color: $KSK !important;
      border: 0.15vw solid white !important;
    }

    &.false {
      color: $sepia-dark !important;
      margin: 1vw;
      background-color: #d5d3d1 !important;
      border: transparent !important;
      pointer-events: none;
    }
  }

  .tray {
    //background: linear-gradient(272deg, rgba(255, 255, 254, 1) 0%, rgba(255, 255, 254, 0.85) 80%, rgba(255, 255, 254, 0.25) 97%, rgba(255, 255, 255, 0.0) 100%);
    background-color: white;
    padding: 1.5vw;
  }

  .ksk-tray {
    border-radius: 0 0 1vw 1vw;
    width: 100%;

    .ksk-tray-item {


      &.true {
        .selection-slot {
          &:hover {
            p, h4, label {
              color: #2c2c2c !important;
            }
          }

          background-color: transparent !important;
          border: 1px solid $ok-status !important;

          p, h4 {
            color: #2c2c2c;
          }
        }

        .carat-pointing-left {
          display: none;
        }
      }

    }

    .edit-list-container {
      height: 100%;
      position: relative;
    }

    .edit-pods-menu {
      list-style: none;
      width: 100%;
      height: 92%;
      align-items: center;
      overflow-y: auto;
      padding: 1vw;

      .pod-modifier {
        display: flex;
        flex-direction: column;
        background-color: white;
        border-radius: 10vw;
        padding: 0;
        margin-bottom: 0.75vw;
        justify-content: center;
        align-items: center;

        .main-data {
          display: flex;
          flex-direction: row;
          align-items: center;
        }

        .pod-name {
          text-align: left;
        }

        label {
          text-align: left;
          font-size: 1vw;
          width: 100%;
          margin-left: 0.65vw;
        }

        .incrementors-menu {
          margin-right: 0.5vw;

          label {
            margin: 0;
            text-align: center;
          }

          .incrementor {
            width: 3vw !important;
            height: 2vw !important;
            border-color: $dark-roast !important;

            &:hover {
              .expander {
                background-color: $dark-roast;
              }

              .filled {
                fill: white;
              }
            }
          }
        }
      }

      .pod-lid {
        flex-basis: 40%;
        position: relative;

        .close-btn {
          position: absolute;
          top: -0.5vw;
          left: -0.5vw;
          width: 2vw !important;
          height: 2vw !important;
          padding: 0.25vw !important;
          border-color: $medium !important;

          label {
            display: none;
          }

          .icon {
            height: 100%;
            width: 100%;
            margin: 0.25vw !important;
          }
        }

        img {
          width: 100%;
        }
      }
    }

    &.is-open {
      height: 100%;

      .ksk-tray-item {
        height: 100% !important;
      }

      h2, .coffee-maker, .review-order {
        display: none;
      }
    }

    .ksk-step {
      flex-basis: auto;
      height: 100%;
      flex-grow: 1;
      flex-shrink: 1;
      display: flex;
      flex-direction: column;
      width: 100%;

      .edit-menu-btn {
        height: 2vw !important;
        position: absolute;
        width: 4vw !important;
        right: 0;
        padding: 0.1vw 0.05vw !important;
        border-radius: 0 0.75vw 0 0.75vw;
        display: flex;
        justify-content: center !important;

        &:hover {
          .expander {
            background-color: $cta-primary !important;
            border-radius: 0 !important;
            inset: -1vw !important;
          }
        }
      }

      .title-area {
        display: flex;
        padding: 1.5vw 1vw 0.5vw;

        h3 {
          font-size: 1.5vw;
          color: $KSK;
        }

        .step-marker {
          width: 2.25vw;
          height: 2vw;
          border-radius: 100vw;
          display: flex;
          align-items: center;
          justify-content: center;
          margin-right: 0.5vw;

          .icon {
            width: 2vw;
            height: 2vw;
            margin: 0;

            polyline {
              stroke-width: 0.15vw;
            }

            circle {
              stroke-width: 0;
            }
          }
        }

        &.false {
          .step-marker {
            background-color: $KSK !important;

            label {
              color: white !important;
            }

            .icon {
              display: none;
            }
          }
        }

        &.true {
          .step-marker {
            background-color: $ok-status;

            label {
              display: none;
              color: white;
            }

            .icon {
              .stroked {
                stroke: white;
              }
            }
          }

          h3 {
            color: $ok-status;
          }

          .icon {
            .filled {

            }
          }
        }

      }

      .icon {
        height: 4vw;
        width: 2vw;
        margin-right: 0.5vw;
      }
    }

    h2, .ksk-tray-item {
      text-align: center;
      width: 100%;
    }

    h2 {
      font-size: 2.25vw;
      margin-bottom: 5%;
    }

    .ksk-tray-item {
      text-align: center;
      height: 16vw;
      display: inline-flex;
      flex-direction: column;
      width: 100%;

      h4 {
        margin: 0.5vw 4vw 0;
        font-size: 1vw;
      }

      &.review-order {
        height: auto;
      }
    }


    .k-btn {
      &:hover {
        .expander {
          background-color: white;
        }

        label {
          color: $KSK;
        }
      }
    }
  }

  .k-carousel {
    height: 100% !important;
    padding-bottom: 4vw;
    overflow-y: visible;

    .k-btn {
      &.secondary {
        border-width: 0.125vw !important;
      }

      &.primary {
        .icon {
          .filled {
            fill: $dark-roast !important;
          }
        }

        color: $dark-roast !important;
        background-color: $bold-cta !important;
      }

    }

    .nav-dots-container {
      bottom: 0;
      border: 1px solid rgba(0, 0, 0, 0.25);
      background-color: rgba(0, 0, 0, 0.15);
      padding: 0.5vw 0.75vw;
    }

    .nav-container {
      height: 50%;

      .right {
        right: 2vw;
        background-image: linear-gradient(270deg, rgba(0, 0, 0, 0.05) 0%, rgba(0, 0, 0, 0) 40%, rgba(3, 3, 3, 0) 100%);
      }

      .left {
        left: 2vw;
        background-image: linear-gradient(90deg, rgba(0, 0, 0, 0.05) 0%, rgba(0, 0, 0, 0) 40%, rgba(3, 3, 3, 0) 100%);
      }

      .left, .right {
        width: 3vw;
        border-radius: 100vw;
        background-color: transparent;
        box-shadow: none;
        backdrop-filter: blur(0.5vw);

        &:hover {
          height: 50%;
        }

        .icon {
          height: 2vw;
          width: 2vw;
        }
      }
    }
  }

  .ksk-selection {
    display: flex;
    justify-content: center;
    flex-direction: column;
    align-items: center;

    .draggable-container {
      margin-top: 2vw;

      ul {
        display: flex;
        list-style: none;
      }
    }

    .filter-item {
      margin-right: 0.5vw;

      .k-btn {
        background-color: white !important;
        padding: 0.5vw 1vw !important;
        border: .1vw solid $dark-roast !important;

        label {
          font-size: 1vw;
        }
      }

      &.active {
        .k-btn {
          pointer-events: none;
          border-radius: 100vw;
          border: transparent !important;
          background-color: $sepia !important;
        }
      }

      font-size: 1vw;
    }

    .k-toggle-container {
      width: 33%;
    }
  }

  .tray {
    width: 25%;
    height: 100%;
    display: flex;
    align-items: center;

    .illustration {
      .stroked {
        stroke: white;
        stroke-dasharray: 1.5vw 1.5vw;
        stroke-width: 0.25vw;
      }

      .filled {
        fill: $sepia;
      }

      .bg-select-indicator {
        fill: #0d8296;
        filter: drop-shadow(2px 2px 11px rgba(0, 0, 0, 0.65));
      }
    }
  }


  //Pod Card
  .selection-area {
    display: flex;
    flex-direction: row;
    align-items: center;
    height: 100%;
  }

  .select-items-container {
    width: 75%;
    height: auto;
    display: flex;
    flex-direction: column;

    .k-btn {
      &.quit {
        align-self: flex-end;
        margin-right: 1vw;
      }
    }

    .k-carousel {
      height: auto !important;
    }
  }

  .tray {
    width: 25%;
  }

  .price-container-main {
    .final-price {
      font-size: 1vw;
      margin-left: 0;
      position: relative;
      padding-left: 0.6vw;

      .currency {
        top: 0.1vw;
        font-size: 0.75vw;
      }

      label {
        font-size: 1.5vw;
      }
    }
  }

  .quant-variant {
    margin-top: 1vw;
    margin-right: 0;
    margin-bottom: 1vw;
    width: 100%;

    .variant {
      border-radius: 0.5vw;
      padding: 0.1vw !important;
    }
  }

  .price-area {
    margin: 0 0 1vw 0;
    display: flex !important;
    flex-direction: column !important;
    align-items: flex-start !important;

    .discount-area {
      display: flex;
      flex-direction: row;

      img {
        margin-bottom: 0.35vw;
      }

      label {
        font-size: 1vw;
        margin-top: 0.4vw;
      }
    }

    .final-price {
      label {
        color: $discount !important;
      }
    }
  }

  .ratings-overall-container {
    margin: 0 0 1vw 0;
    width: 100%;
  }

  .ratings-data {
    font-size: 1vw;
  }

  .product-info-container {
    display: inline-flex;
    flex-direction: column;
    padding: 1vw;
    justify-content: space-between;
    width: 23%;
    //background-color: white;
    margin: 0.5vw;
    border-radius: 5vw;


    .box-sizes {
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    .settings-label {
      font-size: 1vw;
      font-weight: 600;
    }

    .ksk-add {

      &:hover {
        label {

        }

        .filled {
          fill: white;
        }

        .expander {
          background-color: white !important;
        }
      }

      label {

      }

      .filled {
        fill: white !important;
      }
    }

    &.unselected {
      filter: grayscale(1) brightness(0.25);
    }

    &.selected {
      box-shadow: 1px -1px 23px 0px rgb(0 0 0 / 68%);
      background-color: white !important;
      position: fixed;
      z-index: 100000;
      top: 3%;
      bottom: 0;
      animation: growModal 0.25s forwards;
      flex-direction: row;
      align-content: flex-end;
      justify-content: space-between;
      box-sizing: content-box;
      overflow-y: auto;
    }

    .prod-info-area {
      display: flex;
      flex-direction: column;
      flex-grow: 1;
      justify-content: space-between;
      height: 50%;

      .brand-title {
        text-align: left;
      }

      h2 {
        font-size: 1.75vw;
        text-align: left;
      }

      p {
        font-size: 1vw;
      }
    }

    h2 {
      font-size: 1.25vw;
    }

    .data-text {
      width: 100%;

      .k-btn {

        &.secondary {
          border-color: $dark-roast !important;
        }

        label {
          font-size: 1vw;
          line-height: 1vw;
        }
      }
    }

    .product-image-name {
      width: 100%;
      height: 100%;
      display: flex;
      flex-direction: column;

      .pod-lid {
        max-height: 15vw;
        width: 100%;
        height: 35%;
        object-fit: contain;
        margin-bottom: 4vh;
      }
    }
  }


  .slide {
    padding: 0 5rem;

    .slide-item {
      display: inline-flex;
      width: 100%;
      justify-content: center;

    }
  }
}
