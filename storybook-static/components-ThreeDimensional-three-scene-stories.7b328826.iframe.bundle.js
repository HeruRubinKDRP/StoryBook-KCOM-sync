"use strict";(self.webpackChunksb7=self.webpackChunksb7||[]).push([[990],{"./src/components/ThreeDimensional/three-scene.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,default:()=>three_scene_stories});var defineProperty=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),react=__webpack_require__("./node_modules/react/index.js"),slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),index_673ef987_esm=__webpack_require__("./node_modules/@react-three/fiber/dist/index-673ef987.esm.js"),react_three_fiber_esm=__webpack_require__("./node_modules/@react-three/fiber/dist/react-three-fiber.esm.js"),shapes=__webpack_require__("./node_modules/@react-three/drei/core/shapes.js"),PerspectiveCamera=__webpack_require__("./node_modules/@react-three/drei/core/PerspectiveCamera.js"),OrbitControls=__webpack_require__("./node_modules/@react-three/drei/core/OrbitControls.js"),ContactShadows=__webpack_require__("./node_modules/@react-three/drei/core/ContactShadows.js"),three_module=__webpack_require__("./node_modules/three/build/three.module.js"),RGBELoader=__webpack_require__("./node_modules/three-stdlib/loaders/RGBELoader.js"),__jsx=react.createElement,EnvironmentMapContext=react.createContext(null),EnvironmentSystem=function EnvironmentSystem(_ref){var path=_ref.path,_ref$mode=_ref.mode,mode=void 0===_ref$mode?"hdr":_ref$mode,children=_ref.children,_useThree=(0,index_673ef987_esm.z)(),gl=_useThree.gl,scene=_useThree.scene,pmremGenerator=new three_module.PMREMGenerator(gl),_React$useState=react.useState(null),_React$useState2=(0,slicedToArray.Z)(_React$useState,2),envMap=_React$useState2[0];_React$useState2[1];return(0,react.useEffect)((function(){"hdr"===mode?(new RGBELoader.x).load(path,(function(texture){var envMap=pmremGenerator.fromEquirectangular(texture).texture;scene.environment=envMap,texture.dispose(),pmremGenerator.dispose()})):"regular"===mode&&(new three_module.CubeTextureLoader).load([path,path,path,path,path,path],(function(texture){scene.environment=texture}))}),[gl,path,mode,scene,pmremGenerator]),__jsx(EnvironmentMapContext.Provider,{value:envMap},children)};EnvironmentSystem.displayName="EnvironmentSystem",EnvironmentSystem.__docgenInfo={description:"",methods:[],displayName:"EnvironmentSystem",props:{mode:{defaultValue:{value:"'hdr'",computed:!1},required:!1}}};try{EnvironmentSystem.displayName="EnvironmentSystem",EnvironmentSystem.__docgenInfo={description:"",displayName:"EnvironmentSystem",props:{path:{defaultValue:null,description:"",name:"path",required:!0,type:{name:"string"}},mode:{defaultValue:{value:"hdr"},description:"",name:"mode",required:!1,type:{name:"enum",value:[{value:'"hdr"'},{value:'"regular"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["public/three/EnvironmentSystem.tsx#EnvironmentSystem"]={docgenInfo:EnvironmentSystem.__docgenInfo,name:"EnvironmentSystem",path:"public/three/EnvironmentSystem.tsx#EnvironmentSystem"})}catch(__react_docgen_typescript_loader_error){}var dist=__webpack_require__("./node_modules/@react-three/postprocessing/dist/index.js"),esm_extends=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),useGLTF=__webpack_require__("./node_modules/@react-three/drei/core/useGLTF.js"),useTexture=__webpack_require__("./node_modules/@react-three/drei/core/useTexture.js"),MeshTransmissionMaterial=__webpack_require__("./node_modules/@react-three/drei/core/MeshTransmissionMaterial.js"),matGlass={color:13553358,transparent:!0,reflectivity:.25,opacity:1,metalness:.22,roughness:.1,ior:1.5,thickness:.65,specularIntensity:1,clearcoat:1,envMapIntensity:1,transmission:1},coffeeSurface={color:13553358,transparent:!1,reflectivity:.15,opacity:1,metalness:.22,roughness:.1,ior:1.5,thickness:.15,specularIntensity:1,sheen:.5,clearcoat:1,envMapIntensity:1,transmission:0},Mug_jsx=react.createElement;function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){(0,defineProperty.Z)(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}var transMissionShaderConfig={meshPhysicalMaterial:!0,transmissionSampler:!0,backside:!1,samples:10,resolution:2048,transmission:1,roughness:.1,thickness:.75,ior:1.5,chromaticAberration:.1,anisotropy:.1,distortion:0,distortionScale:.3,temporalDistortion:.5,clearcoat:1,fog:!0,fogDensity:.5,attenuationDistance:.5,attenuationColor:new three_module.Color("#ffffff"),color:new three_module.Color("#ffffff"),bg:new three_module.Color("rgba(255,255,255,0)")},CoffeeMug=function CoffeeMug(){var mugMesh=(0,useGLTF.L)("/three/mug/coffee-cup.glb"),liquidMesh=(0,useGLTF.L)("/three/mug/just-mug-liquid.glb"),beverageTexture=(new three_module.MeshPhysicalMaterial(matGlass),(0,useTexture.m)("./three/textures/beverage-surface.jpg")),coffeeSide=(0,useTexture.m)("./three/textures/coffee-side.jpg"),bevNRM=(0,useTexture.m)("./three/textures/coffee-texture_NRM.jpg"),bevSPEC=(0,useTexture.m)("./three/textures/coffee_SPEC.jpg"),coffeeMaterial=new three_module.MeshPhysicalMaterial(_objectSpread(_objectSpread({},coffeeSurface),{},{map:beverageTexture,normalMap:bevNRM,specularIntensityMap:bevSPEC,specularIntensity:.5})),coffeeSideMaterial=new three_module.MeshPhysicalMaterial(_objectSpread(_objectSpread({},coffeeSurface),{},{map:coffeeSide}));return Mug_jsx("group",{dispose:null},Mug_jsx("mesh",{geometry:mugMesh.nodes.mug.geometry},Mug_jsx(MeshTransmissionMaterial.z,(0,esm_extends.Z)({background:new three_module.Color(transMissionShaderConfig.bg)},transMissionShaderConfig))),Mug_jsx("group",{dispose:null,position:[0,4,0]},Mug_jsx("mesh",{geometry:liquidMesh.nodes.liquidTop.geometry},Mug_jsx("meshPhysicalMaterial",coffeeMaterial)),Mug_jsx("mesh",{geometry:liquidMesh.nodes.liquidSide.geometry},Mug_jsx("meshPhysicalMaterial",coffeeSideMaterial))))};CoffeeMug.displayName="CoffeeMug",CoffeeMug.__docgenInfo={description:"",methods:[],displayName:"CoffeeMug"};const Models_Mug=CoffeeMug;try{Mug.displayName="Mug",Mug.__docgenInfo={description:"",displayName:"Mug",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ThreeDimensional/Models/Mug.tsx#Mug"]={docgenInfo:Mug.__docgenInfo,name:"Mug",path:"src/components/ThreeDimensional/Models/Mug.tsx#Mug"})}catch(__react_docgen_typescript_loader_error){}var ThreeScene_jsx=react.createElement,RotatingBox=function RotatingBox(){var boxRef=(0,react.useRef)(null);return(0,index_673ef987_esm.A)((function(){boxRef.current&&(boxRef.current.rotation.x+=.01,boxRef.current.rotation.y+=.01)})),ThreeScene_jsx(shapes.xu,{ref:boxRef,args:[1,1,1]},ThreeScene_jsx("meshStandardMaterial",{color:"hotpink"}))};RotatingBox.displayName="RotatingBox";var CameraController=function CameraController(){var camera=(0,index_673ef987_esm.z)().camera;return react.useEffect((function(){camera&&camera.lookAt(new three_module.Vector3(0,0,0))}),[camera]),null},ThreeScene=function ThreeScene(props){var _props$cameraPosition,_props$cameraPosition2,_props$cameraPosition3,_props$FOV,_React$useState=react.useState(null),_React$useState2=(0,slicedToArray.Z)(_React$useState,2),envMap=_React$useState2[0];_React$useState2[1];(0,react.useEffect)((function(){}),[envMap]);var renderer=new three_module.WebGLRenderer({antialias:!0,alpha:!0});return renderer.toneMapping=three_module.CineonToneMapping,renderer.outputColorSpace="srgb",renderer.toneMappingExposure=.5,ThreeScene_jsx("div",{style:{height:"100vh"}},ThreeScene_jsx("img",{src:"./three/textures/coffee-texture_NRM.jpg",style:{position:"fixed",height:"20vh",width:"20vw",top:"0",left:"0"}}),ThreeScene_jsx(EnvironmentMapContext.Provider,{value:envMap},ThreeScene_jsx(react_three_fiber_esm.Xz,null,ThreeScene_jsx(EnvironmentSystem,{path:"./three/hdr/MR_INT-006_LoftIndustrialWindow_1024.hdr",mode:"hdr"}),ThreeScene_jsx(dist.xC,null,ThreeScene_jsx(dist.dp,{luminanceThreshold:.99,luminanceSmoothing:.99,intensity:.1,height:400}),ThreeScene_jsx(dist.cy,{opacity:.06})),ThreeScene_jsx(PerspectiveCamera.c,{makeDefault:!0,position:[null!==(_props$cameraPosition=props.cameraPositionX)&&void 0!==_props$cameraPosition?_props$cameraPosition:0,null!==(_props$cameraPosition2=props.cameraPositionY)&&void 0!==_props$cameraPosition2?_props$cameraPosition2:4,null!==(_props$cameraPosition3=props.cameraPositionZ)&&void 0!==_props$cameraPosition3?_props$cameraPosition3:19],fov:null!==(_props$FOV=props.FOV)&&void 0!==_props$FOV?_props$FOV:55}),"orbit"===props.cameraMode&&ThreeScene_jsx(OrbitControls.z,null),ThreeScene_jsx(CameraController,null),ThreeScene_jsx(RotatingBox,null),ThreeScene_jsx(Models_Mug,null),ThreeScene_jsx(ContactShadows.j,{scale:50,position:[0,0,0],blur:.25,far:100,opacity:.25}))))};ThreeScene.displayName="ThreeScene",ThreeScene.__docgenInfo={description:"",methods:[],displayName:"ThreeScene",props:{cameraPositionX:{required:!1,tsType:{name:"number"},description:""},cameraPositionY:{required:!1,tsType:{name:"number"},description:""},cameraPositionZ:{required:!1,tsType:{name:"number"},description:""},FOV:{required:!1,tsType:{name:"number"},description:""},cameraMode:{required:!1,tsType:{name:"union",raw:"'static' | 'orbit'",elements:[{name:"literal",value:"'static'"},{name:"literal",value:"'orbit'"}]},description:""}}};const ThreeDimensional_ThreeScene=ThreeScene;try{ThreeScene.displayName="ThreeScene",ThreeScene.__docgenInfo={description:"",displayName:"ThreeScene",props:{cameraPositionX:{defaultValue:null,description:"",name:"cameraPositionX",required:!1,type:{name:"number"}},cameraPositionY:{defaultValue:null,description:"",name:"cameraPositionY",required:!1,type:{name:"number"}},cameraPositionZ:{defaultValue:null,description:"",name:"cameraPositionZ",required:!1,type:{name:"number"}},FOV:{defaultValue:null,description:"",name:"FOV",required:!1,type:{name:"number"}},cameraMode:{defaultValue:null,description:"",name:"cameraMode",required:!1,type:{name:"enum",value:[{value:'"static"'},{value:'"orbit"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ThreeDimensional/ThreeScene.tsx#ThreeScene"]={docgenInfo:ThreeScene.__docgenInfo,name:"ThreeScene",path:"src/components/ThreeDimensional/ThreeScene.tsx#ThreeScene"})}catch(__react_docgen_typescript_loader_error){}var _Default$parameters,_Default$parameters2,three_scene_stories_jsx=react.createElement;function three_scene_stories_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function three_scene_stories_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?three_scene_stories_ownKeys(Object(source),!0).forEach((function(key){(0,defineProperty.Z)(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):three_scene_stories_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}const three_scene_stories={title:"ThreeScene",component:ThreeDimensional_ThreeScene,argTypes:{cameraPositionX:{control:"range",min:0,max:360,step:.1},cameraPositionY:{control:"range",min:0,max:360,step:.1},cameraPositionZ:{control:"range",min:0,max:360,step:.1},FOV:{control:"range",min:0,max:100,step:.1}}};var Template=function Template(args){return three_scene_stories_jsx(ThreeDimensional_ThreeScene,args)};Template.displayName="Template";var Default=Template.bind({});Default.args={cameraPositionX:0,cameraPositionY:25,cameraPositionZ:22,FOV:55},Default.parameters=three_scene_stories_objectSpread(three_scene_stories_objectSpread({},Default.parameters),{},{docs:three_scene_stories_objectSpread(three_scene_stories_objectSpread({},null===(_Default$parameters=Default.parameters)||void 0===_Default$parameters?void 0:_Default$parameters.docs),{},{source:three_scene_stories_objectSpread({originalSource:"args => <ThreeScene {...args} />"},null===(_Default$parameters2=Default.parameters)||void 0===_Default$parameters2||null===(_Default$parameters2=_Default$parameters2.docs)||void 0===_Default$parameters2?void 0:_Default$parameters2.source)})})}}]);